<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="../style.css" type="text/css">
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="http://cdn.bootcss.com/jquery/1.11.1/jquery.min.js"></script>
    <!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
    <script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
    <script>
        function register() {
            const username = document.getElementById('input').value;
            const psw = document.getElementById('psw').value;

            var formData = new FormData();
            formData.append('username', username);
            formData.append('psw', psw);
            console.log(formData);

            var xhr = new XMLHttpRequest();

            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4) {
                    if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304) {
                        alert(xhr.responseText);
                    } else {
                        alert("Response was unsuccessful:" + xhr.status);
                    }
                }
            };

            xhr.open("post", "/register", true);
//            xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
            xhr.send(formData);
        }
    </script>
</head>
<body>
<div class="main">
        用户名：<input type="text" id="input" name="username"/>
        密码：<input type="password" id="psw" name="psw"/>
        <div class="button">
            <button class="btn btn-primary">登陆</button>
            <button class="btn btn-primary" onclick="register()">注册</button>
        </div>
</div>
</body>
</html>